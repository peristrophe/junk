<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var query = new google.visualization.Query(
			  'https://docs.google.com/spreadsheets/d/' +
			  '1OlyRxfOQZ2eAVXyVW9PHg8GQjDf9i3UGnJnJH98Ayv4' +
			  '/edit?usp=sharing');
        query.send(handleQueryResponse);
      }

      function handleQueryResponse(response) {
        var dataTable = response.getDataTable();
        var container = document.getElementById('histogram');
        var chart = new google.visualization.Histogram(container);

        var options = {
          title: '10分以上待機したprestoジョブの時間帯分布 (システムユーザー以外)',
          legend: { position: 'none' },
          chartArea: {
            left: '10%',
            top: '10%',
            width: '80%',
            height: '80%',
          },
          hAxis: {
            title: 'created hour',
            //showTextEvery: 2,
            //viewWindow: {
            //  max: 300,
            //},
          },
          vAxis: {
            //format: 'decimal',
            //scaleType: 'mirrorLog',
          },
          histogram: {
            bucketSize: 1,
            hideBucketItems: true,
            minValue: 9,
            maxValue: 21,
          },

          dataOpacity: 0.8,
        };

        chart.draw(dataTable, options);
      }
    </script>
  </head>
  <body>
    <div id="histogram" style="height: 100%; width: 100%;"></div>
  </body>
</html>
